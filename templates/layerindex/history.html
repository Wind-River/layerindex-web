{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% comment %}

  layerindex-web - history list page template

  Copyright (C) 2013 Intel Corporation
  Licensed under the MIT license, see COPYING.MIT for details

{% endcomment %}


<!--
{% block title_append %} - history{% endblock %}
-->

{% block content %}
{% autoescape on %}

<h2>Change history</h2>

<table class="table table-striped table-bordered layerstable">
    <thead>
        <tr>
            <th>Date/time</th>
            <th>User</th>
            <th>Change</th>
        </tr>
    </thead>

    <tbody>
    {% for revision in revisions %}
        <tr>
            <td>{{ revision.date_created|timesince }} ago</td>
            <td>{{ revision.user }}</td>
            <td>
                {% for version in revision.version_set.all %}
                    {% if version.type = 0 %}
                        Added
                    {% elif version.type = 1 %}
                        Changed
                    {% elif version.type = 2 %}
                        Deleted
                    {% endif %}
                    {{ version.content_type.name.lower }}: {{ version.object_repr }}
                    <br>
                {% endfor %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

    {% if is_paginated %}
        {% load pagination %}
        {% pagination page_obj %}
    {% endif %}


{% endautoescape %}
{% endblock %}